<div fxFill fxLayout="column" class="app">

  <div class="primary" fxLayoutAlign="center center">

    <!-- Burger menu for small screens -->
    <div class="btn-group burger" dropdown *ngIf="showBurger">
      <button id="button-animated" dropdownToggle type="button" class="btn dropdown-toggle"
        aria-controls="dropdown-animated">
        <mat-icon aria-label="drop down menu">menu</mat-icon>
      </button>
      <div id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-animated">
        <app-nav></app-nav>
      </div>
    </div>

    <div fxFlex></div>

    <!-- Big URL confirmation -->
    <h1 [title]="pageTitleToolTip" class="title" [ngClass]="{titleOffset:showBurger, under500:under500}">
      {{ localData.websiteUrlWTS }}{{ routeDisplay }}
    </h1>

    <div fxFlex></div>

    <button mat-button *ngIf="!offline && localData.SpaVersionUpdateRequired" (click)="SpaVersionUpdate()">
      <mat-icon>autorenew</mat-icon>
      update
    </button>

    <div *ngIf="offline" class="amr-3">
      OFFLINE
    </div>
  </div>

  <!-- Main Menu on large screens -->
  <nav fxLayoutAlign="center" *ngIf="!showBurger">
    <app-nav></app-nav>
  </nav>

  <!-- Use of main element is messing with flexLayout -->
  <div fxFlex>
    <router-outlet></router-outlet>
  </div>

  <!-- https://stackoverflow.com/questions/47829727/sticky-footer-at-bottom-in-angular -->

  <div [ngClass]="{footerShow:showVulcan, footerHide:!showVulcan}">

    <div fxLayoutAlign="center">
      <div class="content" fxLayoutAlign="start end">
        <img [src]="imgVulcan" [alt]="altVulcan" class="ml-3" height="143" (click)="vulcan()">
        <span class="imgCredit" *ngIf="localData.website==='break-out.group'">Image by <a
            href="https://www.flaticon.com/authors/freepik" title="Freepik" target="_blank">Freepik</a> from<a
            href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></span>
      </div>
    </div>

    <div fxLayout="row" [ngClass.lt-sm]="'x-small'" [ngClass.sm]="'small'" [ngClass.gt-sm]="'gt-small'" class="footer">

      <div fxFlex fxHide.lt-sm></div>

      <div fxFlex class="center" [ngClass.lt-sm]="'x-small'">
        <span class="align-middle" [ngClass.xs]="'xs-strapline'">
          {{ localData.strapline }}
        </span>
      </div>

      <div fxFlex fxHide.xs>
        <span fxFlex></span>
        <span class="align-middle yellow">
          {{ localAPI }}
        </span>
        <span class="align-middle copyright" (click)="toggleLocalAPI()">
          {{ localData.website }} 2021 v{{ localData.SpaVersion }}
        </span>
      </div>

    </div>

  </div>

</div>
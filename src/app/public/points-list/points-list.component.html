<div fxFill class="scroller" appElementScrollEnd (scrollEnd)="fetchMorePoints()">

    <div class="content">

        <div *ngIf="error!==''" class="text-danger mx-3">
            {{ error }}
        </div>

        <!-- Top Spinner for reselect -->
        <div *ngIf="alreadyFetchingPointsFromDB && pointCount > 0">
            <div>
                <div class="amr-2">reselecting points</div>
                <div class="spinner-grow text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>

        <!-- Points List -->
        <div *ngFor="let point of points">
            <app-point [point]="point" [pointCount]="pointCount" (PointDeleted)="onPointDeleted($event)"
                [possibleAnswer]="possibleAnswers" [isMyAnswer]="attachedToQuestion && point.isPointOwner"
                (AddPointToAnswers)="AddToAnswers($event)" (RemovePointFromAnswers)="RemoveFromAnswers($event)"
                [searchTerm]="filter.text">
            </app-point>
        </div>

        <!-- Prompt New Point or Answer to Question -->
        <div *ngIf="!alreadyFetchingPointsFromDB && pointCount===0" class="alert alert-warning">
            {{firstResponse}}
        </div>

        <!-- Count -->
        <div class="pointCount" fxLayoutAlign="end center">

            <span *ngIf="!alreadyFetchingPointsFromDB && !filter?.single">
                {{ points.length }} point{{ appData.plural(points.length) }} displayed of {{ pointCount }}<span
                    *ngIf="!allPointsDisplayed">
                    <a *ngIf="points.length < pointCount" routerLink="." (click)="fetchMorePoints()">more</a></span>
            </span>

            <span *ngIf="filter?.single">
                <a [routerLink]="filter.slashTag">show all</a>
            </span>


            <span class="amr-2" *ngIf="alreadyFetchingPointsFromDB">
                ... fetching next batch of points
            </span>

            <!-- Bottom spinner -->
            <span class="spinner-grow text-primary" role="status" *ngIf="alreadyFetchingPointsFromDB">
                <span class="visually-hidden">Loading...</span>
            </span>

        </div>

    </div>

</div>